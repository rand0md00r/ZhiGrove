/* 说明：默认是“阅读模式”；在 Markdown 中加入 <span id="resume-mode"></span> 即开启“简历（紧凑 A4）模式”。
   开关同时影响预览与打印导出（PDF）。 */

/* 屏幕与打印的默认阅读样式 */
.markdown-preview.markdown-preview{
  max-width: 860px;
  margin: 0 auto;
  color:#222;
  font-size:12pt;
  line-height:1.6;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","PingFang SC","Hiragino Sans GB","Microsoft YaHei","Noto Sans CJK SC","Source Han Sans SC","Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  word-break: break-word;
}

/* 打印基础设置（两种模式通用） */
@page {
  size: A4;
  margin: 10mm 12mm;
  /* 若引擎支持 margin boxes，可去页眉脚；多数 Chromium 忽略 */
  @top-left { content: none; } @top-center { content: none; } @top-right { content: none; }
  @bottom-left { content: none; } @bottom-center { content: none; } @bottom-right { content: none; }
}
@media print{
  html,body{ background:#fff; }
  .markdown-preview.markdown-preview{ box-shadow:none; }
}

/* 简历模式开关（隐藏元素即可） */
#resume-mode{ display:none; }

/* ============ 简历（紧凑 A4）模式：存在 #resume-mode 时激活 ============ */
:root:has(#resume-mode){
  /* 缩放用于打印时压到一页 */
  --scale: 0.94; /* 可在 0.92~0.97 微调 */
}

/* 布局与基础文字 */
:root:has(#resume-mode) .markdown-preview.markdown-preview{
  /* 为了配合缩放后仍占满 A4 宽度，这里用 “宽度=210mm/scale” */
  width: calc(210mm / var(--scale));
  margin: 0 auto;
  color:#222;
  font-size:10pt;           /* 更紧凑 */
  line-height:1.35;         /* 更紧凑 */
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","PingFang SC","Hiragino Sans GB","Microsoft YaHei","Noto Sans CJK SC","Source Han Sans SC","Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  word-break: break-word;   /* 防止长链接撑行 */
}

/* 标题紧凑化 */
:root:has(#resume-mode) .markdown-preview.markdown-preview h1{ margin:2pt 0 4pt; font-size:16pt; font-weight:700; letter-spacing:.2px; }
:root:has(#resume-mode) .markdown-preview.markdown-preview h2{ margin:10pt 0 4pt; font-size:13pt; font-weight:700; }
:root:has(#resume-mode) .markdown-preview.markdown-preview h3{ margin:8pt 0 3pt; font-size:11pt; font-weight:700; }
:root:has(#resume-mode) .markdown-preview.markdown-preview h4,
:root:has(#resume-mode) .markdown-preview.markdown-preview h5,
:root:has(#resume-mode) .markdown-preview.markdown-preview h6{ margin:6pt 0 2pt; font-size:10pt; font-weight:600; }

/* 标题行右侧时间对齐（通用 .title-line，h3/h4 皆可） */
:root:has(#resume-mode) .markdown-preview.markdown-preview h3.title-line,
:root:has(#resume-mode) .markdown-preview.markdown-preview h4.title-line,
:root:has(#resume-mode) .markdown-preview.markdown-preview .title-line{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:6pt;
}
:root:has(#resume-mode) .markdown-preview.markdown-preview .title-line .time{
  white-space:nowrap;
  font-weight:600;
}

/* 段落与列表更紧凑 */
:root:has(#resume-mode) .markdown-preview.markdown-preview p{ margin:0 0 2pt; }
:root:has(#resume-mode) .markdown-preview.markdown-preview ul,
:root:has(#resume-mode) .markdown-preview.markdown-preview ol{ margin:0 0 4pt 12pt; padding:0; }
:root:has(#resume-mode) .markdown-preview.markdown-preview li{ margin:0 0 1.5pt; break-inside:avoid; page-break-inside:avoid; }

/* 分隔线更细、更省空间 */
:root:has(#resume-mode) .markdown-preview.markdown-preview hr{ border:0; border-top:.8pt solid #000; margin:4pt 0 6pt; }

/* 表格更紧凑（若用） */
:root:has(#resume-mode) .markdown-preview.markdown-preview table{ width:100%; border-collapse:collapse; margin:2pt 0 4pt; font-size:9.5pt; }
:root:has(#resume-mode) .markdown-preview.markdown-preview th,
:root:has(#resume-mode) .markdown-preview.markdown-preview td{ border:.5pt solid #ccc; padding:2pt 4pt; vertical-align:top; }
:root:has(#resume-mode) .markdown-preview.markdown-preview th{ background:#f5f5f5; font-weight:600; }

/* 代码块与引用尽量收窄（简历里一般少用） */
:root:has(#resume-mode) .markdown-preview.markdown-preview pre{ background:#fafafa; border:.5pt solid #e5e5e5; padding:4pt 6pt; border-radius:2pt; margin:4pt 0; font-size:9pt; }
:root:has(#resume-mode) .markdown-preview.markdown-preview code{ font-size:9pt; }
:root:has(#resume-mode) .markdown-preview.markdown-preview blockquote{ margin:3pt 0 4pt; padding:3pt 6pt; color:#444; border-left:2pt solid #999; background:#fafafa; }

/* 链接样式（打印保留可读蓝色） */
:root:has(#resume-mode) .markdown-preview.markdown-preview a{ color:#0366d6; text-decoration:underline; }
:root:has(#resume-mode) .markdown-preview.markdown-preview a:hover{ color:#034ea2; }
:root:has(#resume-mode) .markdown-preview.markdown-preview a:visited{ color:#5a32a3; }
:root:has(#resume-mode) .markdown-preview.markdown-preview a::after{ content:""; }

/* 页面内不裂项（避免小节被分页打断） */
:root:has(#resume-mode) .markdown-preview.markdown-preview h1,
:root:has(#resume-mode) .markdown-preview.markdown-preview h2,
:root:has(#resume-mode) .markdown-preview.markdown-preview h3,
:root:has(#resume-mode) .markdown-preview.markdown-preview h4{ break-after:avoid; page-break-after:avoid; }
:root:has(#resume-mode) .markdown-preview.markdown-preview table,
:root:has(#resume-mode) .markdown-preview.markdown-preview pre,
:root:has(#resume-mode) .markdown-preview.markdown-preview blockquote,
:root:has(#resume-mode) .markdown-preview.markdown-preview ul,
:root:has(#resume-mode) .markdown-preview.markdown-preview ol{ break-inside:avoid; page-break-inside:avoid; }

/* 打印时整体缩放，压到单页（仅在简历模式下生效） */
@media print{
  :root:has(#resume-mode) .markdown-preview.markdown-preview{
    transform: scale(var(--scale));
    transform-origin: top left;
  }
}

