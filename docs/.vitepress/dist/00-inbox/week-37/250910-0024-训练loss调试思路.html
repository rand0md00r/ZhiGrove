<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>训练 Loss 调试思路 | ZhiGrove</title>
    <meta name="description" content="Wang Yaqi's Knowledge Base">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/ZhiGrove/assets/style.C8nuTVcb.css" as="style">
    <link rel="preload stylesheet" href="/ZhiGrove/vp-icons.css" as="style">
    
    <script type="module" src="/ZhiGrove/assets/app.CXuj0tw-.js"></script>
    <link rel="preload" href="/ZhiGrove/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/ZhiGrove/assets/chunks/theme.DdaDK2L0.js">
    <link rel="modulepreload" href="/ZhiGrove/assets/chunks/framework.OaOo95RB.js">
    <link rel="modulepreload" href="/ZhiGrove/assets/00-inbox_week-37_250910-0024-训练loss调试思路.md.av_Unh76.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/ZhiGrove/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>ZhiGrove</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/00-inbox/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>收件箱</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/10-knowledge/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>知识库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/20-papers/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>论文</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/30-ideas/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>灵感</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/40-experiments/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>实验</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ZhiGrove/50-reports/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>报告</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wangyaqi/ZhiGrove" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wangyaqi/ZhiGrove" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Inbox</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>README</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/%E6%B5%8B%E8%AF%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>测试</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-34</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-34/TRIAGE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TRIAGE</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-35</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-35/TRIAGE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TRIAGE</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-36</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-36/TRIAGE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TRIAGE</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-37</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250908-0020-MoE%20llama%E7%BB%93%E6%9E%84.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250908-0020-MoE llama结构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250908-0020-clip%E6%8D%9F%E5%A4%B1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250908-0020-clip损失</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250908-0020-siglip%E6%8D%9F%E5%A4%B1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250908-0020-siglip损失</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250909-0023-dino%E8%AF%AD%E4%B9%89%E7%9B%91%E7%9D%A3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250909-0023-dino语义监督</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250910-0024-clip-siglip-vicreg%E6%8D%9F%E5%A4%B1%E5%8C%BA%E5%88%AB%E4%B8%8E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250910-0024-clip-siglip-vicreg损失区别与适用场景</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-37/250910-0024-%E8%AE%AD%E7%BB%83loss%E8%B0%83%E8%AF%95%E6%80%9D%E8%B7%AF.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250910-0024-训练loss调试思路</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-38</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-38/250918-0024-0916talk.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250918-0024-0916talk</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-38/250920-0022-check_code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250920-0022-check_code</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-39</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-39/250919-0024-0919-%E4%BB%A3%E7%A0%81%E6%A1%86%E6%9E%B6%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250919-0024-0919-代码框架问题排查</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-39/250924-0024-0922-ocr-TODOlist.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250924-0024-0922-ocr-TODOlist</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-39/250925-0025-0923-%E5%A4%8D%E7%8E%B0crossflow.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250925-0025-0923-复现crossflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-39/250925-0025-%E8%AF%AD%E4%B9%89%E8%B0%83%E9%9F%B3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>250925-0025-语义调音</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-41</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-41/251010-0025-0922-ocr-TODOlist.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251010-0025-0922-ocr-TODOlist</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-41/251010-0025-0923-%E5%A4%8D%E7%8E%B0crossflow.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251010-0025-0923-复现crossflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-41/251010-0025-dots_ocr%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2%20&amp;%20%E8%B0%83%E7%94%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251010-0025-dots_ocr服务部署 & 调用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-41/251010-0025-laion400m%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251010-0025-laion400m训练数据处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-41/251010-0025-%E8%AF%AD%E4%B9%89%E8%B0%83%E9%9F%B3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251010-0025-语义调音</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-45</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-45/251027-1431-VLA-VLA%E8%B0%83%E7%A0%94%E5%88%86%E4%BA%AB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251027-1431-VLA-VLA调研分享</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-45/251104-1431-OCR%E4%BB%BB%E5%8A%A1-docx%E7%AD%89%E6%A0%BC%E5%BC%8F%E6%96%87%E6%A1%A3%E6%A3%80%E6%B5%8B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251104-1431-OCR任务-docx等格式文档检测</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-45/251104-1431-VLA-%E6%89%A9%E6%95%A3%E7%94%9F%E6%88%90%E8%B0%83%E7%A0%94.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251104-1431-VLA-扩散生成调研</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-45/251104-1431-VLA-%E7%BB%BC%E8%BF%B0%E8%AE%BA%E6%96%87%E8%8A%82%E9%80%89%E7%BF%BB%E8%AF%91-0925%E5%8F%91%E5%B8%83.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251104-1431-VLA-综述论文节选翻译-0925发布</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-46</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-46/251111-0027-k%E7%BA%BF%E8%AE%B0%E5%BF%86%E5%8D%A1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251111-0027-k线记忆卡</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>week-50</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251113-1650-%E8%87%AA%E5%8A%A8%E4%BA%A4%E6%98%93%E7%AD%96%E7%95%A5%E5%AE%9E%E7%8E%B0log.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251113-1650-自动交易策略实现log</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-JiT%E8%AE%BA%E6%96%87-%E8%A7%86%E9%A2%91%E8%A6%81%E7%82%B9.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-JiT论文-视频要点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-TRM%E5%BA%94%E7%94%A8%E4%BA%8EVLA.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-TRM应用于VLA</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-TRM%E5%BA%94%E7%94%A8%E5%A4%A7%E7%BA%B2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-TRM应用大纲</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-TRM%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB%E7%AC%94%E8%AE%B0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-TRM论文精读笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-VAE%E5%8E%9F%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-VAE原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-deepseekV3_2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-deepseekV3_2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-rustdesk%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-rustdesk安装及配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90%E5%9F%BA%E5%BA%A7%E6%A8%A1%E5%9E%8B%E8%B0%83%E7%A0%94.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-图像生成基座模型调研</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/251211-1650-%E5%9C%BA%E6%99%AF%E7%90%86%E8%A7%A3%E5%88%86%E7%B1%BB%E5%8A%9F%E8%83%BD.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>251211-1650-场景理解分类功能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ZhiGrove/00-inbox/week-50/[251212-0031]index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>[251212-0031]index</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _ZhiGrove_00-inbox_week-37_250910-0024-%E8%AE%AD%E7%BB%83loss%E8%B0%83%E8%AF%95%E6%80%9D%E8%B7%AF" data-v-39a288b8><div><h1 id="训练-loss-调试思路" tabindex="-1">训练 Loss 调试思路 <a class="header-anchor" href="#训练-loss-调试思路" aria-label="Permalink to &quot;训练 Loss 调试思路&quot;">​</a></h1><blockquote><p>适用于同时包含 <strong>Flow Matching</strong>、<strong>DINO 语义监督</strong>、<strong>KL 正则</strong> 的训练。目标：<strong>验证每个分支是否起作用</strong>，以及<strong>快速定位异常</strong>。</p></blockquote><hr><h2 id="_0-日志与可观测性基线" tabindex="-1">0) 日志与可观测性基线 <a class="header-anchor" href="#_0-日志与可观测性基线" aria-label="Permalink to &quot;0) 日志与可观测性基线&quot;">​</a></h2><p><strong>命名建议</strong></p><ul><li>损失：<code>loss_flow</code> / <code>loss_dino</code> / <code>loss_kl</code>；原始 KL：<code>kl_raw</code></li><li>语义对齐：<code>dino_global</code>（越小越好）</li><li>重参数化统计：<code>z_init/mean</code>、<code>z_init/var</code>（= 采样后的 <code>z_text</code>）</li><li>梯度强度：<code>dbg/grad_flow</code>、<code>dbg/grad_dino_t_head</code>、<code>dbg/grad_mu_head</code>、<code>dbg/grad_logvar_head</code>…</li><li>梯度覆盖：<code>dbg/&amp;lt;tag&gt;_has_grad</code>、<code>dbg/&amp;lt;tag&gt;_trainable</code>（其比值≈<strong>累积步数 GA</strong>）</li><li>参数更新幅度：<code>dbg/update_ratio/&amp;lt;tag&gt;</code></li></ul><p><strong>强制打印技巧</strong></p><ul><li>对任一监控键 <code>k</code> 附加 <strong>影子项</strong>：<code>loss_&amp;lt;k_sanitized&gt; = 0 * &amp;lt;k&gt;</code>，不影响优化，但能被 logger 打印。</li></ul><p><strong>MMEngine 建议</strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">log_processor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LogProcessor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">window_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">by_epoch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># LoggerHook.interval 设为你的打印节奏（如每 50/100 step）</span></span></code></pre></div><hr><h2 id="_1-关键指标怎么看" tabindex="-1">1) 关键指标怎么看 <a class="header-anchor" href="#_1-关键指标怎么看" aria-label="Permalink to &quot;1) 关键指标怎么看&quot;">​</a></h2><h3 id="_1-1-总览-建议每-50–200-step-打印" tabindex="-1">1.1 总览（建议每 50–200 step 打印） <a class="header-anchor" href="#_1-1-总览-建议每-50–200-step-打印" aria-label="Permalink to &quot;1.1 总览（建议每 50–200 step 打印）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>指标名</th><th>代表含义</th><th>正常趋势</th><th>红旗信号</th><th>处理动作</th></tr></thead><tbody><tr><td><code>loss</code></td><td>总损失</td><td>中/长窗缓慢下降</td><td>长期平台期</td><td>调整 LR/裁剪/权重平衡；下钻子项</td></tr><tr><td><code>loss_flow</code></td><td>FM 主目标</td><td>持续下降</td><td>长期不降</td><td>提 LR/放宽裁剪/减正则；查梯度覆盖</td></tr><tr><td><code>loss_dino</code></td><td>语义监督项</td><td>warmup 期占比小，逐步起量</td><td>早期占比过高或抖动大</td><td>降 <code>dino_alpha</code>、拉长 warmup</td></tr><tr><td><code>loss_kl</code> / <code>kl_raw</code></td><td>先验约束</td><td><code>kl_raw</code> 缓慢收敛</td><td>持续增大</td><td>增 KL 权重、约束 <code>logvar</code></td></tr><tr><td><code>dino_global</code></td><td>DINO 对齐度</td><td><strong>下降</strong>（越小越好）</td><td>不降反升</td><td>降 <code>alpha</code>/延长 warmup/关局部</td></tr><tr><td><code>z_init/mean</code></td><td>采样均值</td><td>近 0 小幅波动</td><td>|mean| &gt; 0.1</td><td>mu/logvar 后加 LN/居中化</td></tr><tr><td><code>z_init/var</code></td><td>采样方差</td><td>收敛到 ≈0.8–1.0</td><td>&lt;0.3 或 &gt;1.5</td><td>调 KL 权重、clamp <code>logvar</code></td></tr><tr><td><code>dbg/grad_flow</code></td><td>Flow 梯度范数</td><td>随 <code>loss_flow</code> 下降而变小</td><td>长期≈0 或爆高</td><td>调 LR/裁剪/数值稳定性</td></tr><tr><td><code>dbg/flow_has_grad</code> / <code>dbg/flow_trainable</code></td><td>梯度覆盖</td><td>比值≈<strong>GA</strong></td><td>偏离 &gt;±10% 或 =0</td><td>校准 GA/no_sync/flush 时机</td></tr><tr><td><code>dbg/grad_dino_t_head</code></td><td>DINO 梯度</td><td>随 warmup 逐步变大</td><td>早期过大</td><td>降 <code>alpha</code>、拉长 warmup</td></tr><tr><td><code>dbg/update_ratio/&amp;lt;tag&gt;</code></td><td>参数步长占比</td><td>稳定非零</td><td>长期≈0</td><td>提 LR/减正则/查冻结</td></tr></tbody></table><blockquote><p><strong>推进性的判定</strong>：当 <code>loss_flow ↓</code>、<code>dbg/grad_flow &gt; 0</code>、<code>has_grad/trainable ≈ GA</code> 同时成立，说明 Flow 分支确实在学习。</p></blockquote><hr><h2 id="_2-三类-loss-的-有效性验证" tabindex="-1">2) 三类 Loss 的“有效性验证” <a class="header-anchor" href="#_2-三类-loss-的-有效性验证" aria-label="Permalink to &quot;2) 三类 Loss 的“有效性验证”&quot;">​</a></h2><h3 id="_2-1-flow-matching" tabindex="-1">2.1 Flow Matching <a class="header-anchor" href="#_2-1-flow-matching" aria-label="Permalink to &quot;2.1 Flow Matching&quot;">​</a></h3><ul><li><strong>主观察</strong>：<code>loss_flow</code> 持续下降；<code>dbg/grad_flow</code> 非零且平滑收敛；<code>has_grad/trainable ≈ GA</code>。</li><li><strong>辅助</strong>：对比 <code>‖z_text‖</code> 与目标 <code>‖x1‖</code> 的尺度，避免失配导致梯度极小/极大。</li><li><strong>异常修复</strong><ul><li>不降且梯度很小：提 LR、放宽裁剪、减弱其它正则。</li><li>不降且梯度很大：降 LR、加裁剪、检查归一化/数值稳定。</li></ul></li></ul><h3 id="_2-2-dino-语义监督" tabindex="-1">2.2 DINO 语义监督 <a class="header-anchor" href="#_2-2-dino-语义监督" aria-label="Permalink to &quot;2.2 DINO 语义监督&quot;">​</a></h3><ul><li><strong>主观察</strong>：warmup 期间 <code>loss_dino</code> 占比小；<code>dbg/grad_dino_t_head</code> 随步增大；<code>dino_global</code> 缓慢下降。</li><li><strong>对照</strong>：临时关闭 DINO 或只保留 global 分支，确认不会干扰 FM。</li><li><strong>异常修复</strong>：降低 <code>dino_alpha</code>、延长 warmup、关闭局部 patch 对齐。</li></ul><h3 id="_2-3-kl-正则" tabindex="-1">2.3 KL 正则 <a class="header-anchor" href="#_2-3-kl-正则" aria-label="Permalink to &quot;2.3 KL 正则&quot;">​</a></h3><ul><li><strong>主观察</strong>：<code>kl_raw</code> 缓慢收敛；<code>z_init/mean ≈ 0</code>，<code>z_init/var → 0.8–1.0</code>。</li><li><strong>异常修复</strong><ul><li><code>kl_raw ↑</code> 且 <code>z_init/var ↑</code>：增 KL 权重、clamp <code>logvar</code>、mu/logvar 头后加 LN。</li><li>方差坍缩：降低 KL 权重或做 β-anneal。</li></ul></li></ul><hr><h2 id="_3-梯度监控-ddp-zero-友好-无额外-backward" tabindex="-1">3) 梯度监控（DDP/ZeRO 友好，无额外 backward） <a class="header-anchor" href="#_3-梯度监控-ddp-zero-友好-无额外-backward" aria-label="Permalink to &quot;3) 梯度监控（DDP/ZeRO 友好，无额外 backward）&quot;">​</a></h2><p><strong>做法</strong>：给关键模块参数注册 <code>p.register_hook</code>，在<strong>真实 backward</strong>期间累加 <code>g.pow(2).sum()</code> 与计数；<strong>下一步</strong>把快照写入日志（一步延迟，零冲突）。</p><ul><li>记录：<code>dbg/grad_&amp;lt;tag&gt;</code>、<code>dbg/&amp;lt;tag&gt;_has_grad</code>、<code>dbg/&amp;lt;tag&gt;_trainable</code></li><li>保障打印：为每个 <code>dbg/*</code> 加 <code>loss_dbg_* = 0 * dbg/*</code></li></ul><p><strong>为何不用 <code>autograd.grad</code></strong>：与 reentrant checkpoint 不兼容；ZeRO/DDP 不支持同参多次规约，易触发 <em>already been reduced</em>。</p><hr><h2 id="_4-参数-更新幅度-step-ratio" tabindex="-1">4) 参数“更新幅度”（Step Ratio） <a class="header-anchor" href="#_4-参数-更新幅度-step-ratio" aria-label="Permalink to &quot;4) 参数“更新幅度”（Step Ratio）&quot;">​</a></h2><ul><li>定义：<code>update_ratio = ||Δθ|| / (||θ|| + ε)</code>（模块内 L2 汇总）</li><li>作用：验证“梯度×LR”是否让参数移动；长期≈0 代表学不动（LR 太小/正则过大/被裁剪/被冻结）</li><li>记录：<code>dbg/update_ratio/&amp;lt;tag&gt;</code>（每步对比上一快照）</li></ul><hr><h2 id="_5-与分布式-checkpoint-的注意" tabindex="-1">5) 与分布式 &amp; Checkpoint 的注意 <a class="header-anchor" href="#_5-与分布式-checkpoint-的注意" aria-label="Permalink to &quot;5) 与分布式 &amp; Checkpoint 的注意&quot;">​</a></h2><ul><li>尽量将所有 <code>checkpoint(...)</code> 设为 <code>use_reentrant=False</code>。</li><li>如果做不到，<strong>只用 hook 监控</strong>，不要做额外 backward。</li><li>出现 <em>already been reduced</em>：说明同一迭代做了多次 backward → 去掉监控用 backward。</li></ul><hr><h2 id="_6-常见问题速查" tabindex="-1">6) 常见问题速查 <a class="header-anchor" href="#_6-常见问题速查" aria-label="Permalink to &quot;6) 常见问题速查&quot;">​</a></h2><table tabindex="0"><thead><tr><th>症状</th><th>可能原因</th><th>快速修复</th></tr></thead><tbody><tr><td><code>loss_flow</code> 平台且 <code>grad_flow</code> 很小</td><td>LR 小 / 裁剪或正则过强</td><td>提 LR / 放宽裁剪 / 减正则</td></tr><tr><td><code>loss_flow</code> 抖动大且 <code>grad_flow</code> 爆高</td><td>LR 高 / 数值不稳</td><td>降 LR / 加裁剪 / 加 LN</td></tr><tr><td><code>dino_global</code> 不降</td><td>语义分支过强或 warmup 失效</td><td>降 <code>alpha</code> / 延长 warmup / 关局部</td></tr><tr><td><code>z_init/var ↑</code> + <code>kl_raw ↑</code></td><td>KL 太弱</td><td>增 β、clamp <code>logvar</code>、加 LN</td></tr><tr><td><code>has_grad/trainable</code> ≠ GA</td><td>累积/flush/no_sync 不一致</td><td>校准 GA 与 flush 时机</td></tr><tr><td>日志缺少 <code>dbg/*</code></td><td>无影子 <code>loss_*</code></td><td>为每个监控键加 0 权重 <code>loss_*</code></td></tr></tbody></table><hr><h2 id="_7-建议阈值-可做告警" tabindex="-1">7) 建议阈值（可做告警） <a class="header-anchor" href="#_7-建议阈值-可做告警" aria-label="Permalink to &quot;7) 建议阈值（可做告警）&quot;">​</a></h2><ul><li><code>has_grad/trainable</code> 偏离 GA <strong>&gt; ±10%</strong> 连续 100 step</li><li><code>dbg/grad_flow &lt; 1e-2</code> 且 <code>loss_flow</code> 连续 100 step 不降</li><li><code>dino_global</code> 在 warmup 中段以后 <strong>200 step 不降</strong></li><li><code>|z_init/mean| &gt; 0.1</code> 或 <code>z_init/var &lt; 0.3 / &gt; 1.5</code> 连续 200 step</li><li><code>kl_raw</code> 连续 200 step 上升</li></ul><hr><h2 id="_8-最小监控清单-quick-start" tabindex="-1">8) 最小监控清单（Quick Start） <a class="header-anchor" href="#_8-最小监控清单-quick-start" aria-label="Permalink to &quot;8) 最小监控清单（Quick Start）&quot;">​</a></h2><ol><li>损失：<code>loss_flow</code>、<code>loss_dino</code>、<code>loss_kl</code>、<code>kl_raw</code>、<code>dino_global</code></li><li>z 分布：<code>z_init/mean</code>、<code>z_init/var</code></li><li>梯度（hook）：<code>dbg/grad_flow</code>、<code>dbg/flow_has_grad</code>、<code>dbg/flow_trainable</code>、<code>dbg/grad_dino_t_head</code></li><li>更新幅度：<code>dbg/update_ratio/flow</code>（及其它关键模块）</li><li>打印保障：为每个键加 0 权重 <code>loss_*</code> 影子项</li></ol><hr><h2 id="_9-参考代码骨架-监控思路" tabindex="-1">9) 参考代码骨架（监控思路） <a class="header-anchor" href="#_9-参考代码骨架-监控思路" aria-label="Permalink to &quot;9) 参考代码骨架（监控思路）&quot;">​</a></h2><blockquote><p>仅示意：<strong>hook 累积 → 下一步 flush</strong>；每个写入附带 0 权重 <code>loss_*</code> 影子项。</p></blockquote><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1) 安装参数 hook（在 __init__）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _install_grad_taps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add_hooks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mod, tag):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._trainable_counts[tag] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mod.parameters():</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.requires_grad: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">continue</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._trainable_counts[tag] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _hook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(g, _tag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._grad_acc.setdefault(_tag, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sq&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cnt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                st[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sq&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(g.detach().float().pow(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).sum().item())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                st[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cnt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            p.register_hook(_hook)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    add_hooks(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.fm_transformers, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;flow&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    add_hooks(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.dino_t_head, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dino_t_head&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    add_hooks(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.mu_head, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mu_head&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    add_hooks(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.logvar_head, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;logvar_head&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2) 训练步尾：把“上一轮”统计写入 ret；本轮统计滚动成“上一轮”</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _flush_grad_stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, ret: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> math, torch</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tag, st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._last_grad_stats.items():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        gn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> math.sqrt(st.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sq&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        got </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cnt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tot </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._trainable_counts.get(tag, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ret[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dbg/grad_</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.tensor(gn, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">device</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.device)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ret[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dbg/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_has_grad&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.tensor(got, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">device</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.device)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ret[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dbg/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_trainable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.tensor(tot, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">device</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.device)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ret[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;loss_dbg_grad_</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ret[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dbg/grad_</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 影子项</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._last_grad_stats </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._grad_acc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._grad_acc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div><hr><h2 id="_10-小结" tabindex="-1">10) 小结 <a class="header-anchor" href="#_10-小结" aria-label="Permalink to &quot;10) 小结&quot;">​</a></h2><ul><li><strong>趋势优先</strong>：<code>loss_flow↓</code>、<code>dino_global↓</code>、<code>kl_raw</code> 稳定；<code>z_init</code> 均值≈0、方差≈1。</li><li><strong>梯度证据</strong>：强度非零、覆盖≈GA、<code>update_ratio</code> 非零。</li><li><strong>定位方法</strong>：对照实验 + 阈值告警 + hook 梯度，快速判断“哪个分支不工作 / 过强 / 过弱”，精准调参。</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/ZhiGrove/00-inbox/week-37/250910-0024-clip-siglip-vicreg%E6%8D%9F%E5%A4%B1%E5%8C%BA%E5%88%AB%E4%B8%8E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>250910-0024-clip-siglip-vicreg损失区别与适用场景</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/ZhiGrove/00-inbox/week-38/250918-0024-0916talk.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>250918-0024-0916talk</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2025 Wang Yaqi</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"00-inbox_index.md\":\"DLcZKgze\",\"00-inbox_readme.md\":\"CROMh2To\",\"00-inbox_week-34_triage.md\":\"Bd21h7VP\",\"00-inbox_week-35_triage.md\":\"vLr3Y60-\",\"00-inbox_week-36_triage.md\":\"D2WG-JFq\",\"00-inbox_week-37_250908-0020-clip损失.md\":\"BF9Ao-im\",\"00-inbox_week-37_250908-0020-moe llama结构.md\":\"DoV69DcU\",\"00-inbox_week-37_250908-0020-siglip损失.md\":\"tNmo36ye\",\"00-inbox_week-37_250909-0023-dino语义监督.md\":\"COxAmtT6\",\"00-inbox_week-37_250910-0024-clip-siglip-vicreg损失区别与适用场景.md\":\"DiCvqywx\",\"00-inbox_week-37_250910-0024-训练loss调试思路.md\":\"av_Unh76\",\"00-inbox_week-38_250918-0024-0916talk.md\":\"CAT-H946\",\"00-inbox_week-38_250920-0022-check_code.md\":\"BLX1z2V6\",\"00-inbox_week-39_250919-0024-0919-代码框架问题排查.md\":\"B6Wv4tLA\",\"00-inbox_week-39_250924-0024-0922-ocr-todolist.md\":\"OJ38MYqH\",\"00-inbox_week-39_250925-0025-0923-复现crossflow.md\":\"i5f0OFHX\",\"00-inbox_week-39_250925-0025-语义调音.md\":\"DITAIE7L\",\"00-inbox_week-41_251010-0025-0922-ocr-todolist.md\":\"DZPDtC9H\",\"00-inbox_week-41_251010-0025-0923-复现crossflow.md\":\"BFR0ZHnn\",\"00-inbox_week-41_251010-0025-dots_ocr服务部署 _ 调用.md\":\"zVyuBHXn\",\"00-inbox_week-41_251010-0025-laion400m训练数据处理.md\":\"1RHkz-kk\",\"00-inbox_week-41_251010-0025-语义调音.md\":\"lKF60PSI\",\"00-inbox_week-45_251027-1431-vla-vla调研分享.md\":\"iFv3PXRc\",\"00-inbox_week-45_251104-1431-ocr任务-docx等格式文档检测.md\":\"YRWX1WUF\",\"00-inbox_week-45_251104-1431-vla-扩散生成调研.md\":\"CMpVtTg7\",\"00-inbox_week-45_251104-1431-vla-综述论文节选翻译-0925发布.md\":\"DU4Vlch_\",\"00-inbox_week-46_251111-0027-k线记忆卡.md\":\"DuXtCsiw\",\"00-inbox_week-50_251113-1650-自动交易策略实现log.md\":\"DjqNSPf3\",\"00-inbox_week-50_251211-1650-deepseekv3_2.md\":\"Bko8VItX\",\"00-inbox_week-50_251211-1650-jit论文-视频要点.md\":\"DHEX-o3m\",\"00-inbox_week-50_251211-1650-rustdesk安装及配置.md\":\"w8RvI8-8\",\"00-inbox_week-50_251211-1650-trm应用于vla.md\":\"8TG5-tPZ\",\"00-inbox_week-50_251211-1650-trm应用大纲.md\":\"DiOjYmi3\",\"00-inbox_week-50_251211-1650-trm论文精读笔记.md\":\"T6iy4inR\",\"00-inbox_week-50_251211-1650-vae原理.md\":\"tn1tCE3Z\",\"00-inbox_week-50_251211-1650-图像生成基座模型调研.md\":\"C3_ev7jC\",\"00-inbox_week-50_251211-1650-场景理解分类功能.md\":\"D6A0V50r\",\"00-inbox_week-50__251212-0031_index.md\":\"C3GQgXuF\",\"00-inbox_测试.md\":\"C7fhBSuK\",\"10-knowledge_250822-0737-重启训练一个半小时内不开始训-overview.md\":\"DTlEsSVk\",\"10-knowledge_250826-0737-i2i训练方案-overview.md\":\"BWqUgHb_\",\"10-knowledge_250826-0737-openuni训练方法-overview.md\":\"D5Pf2zFA\",\"10-knowledge_250827-0736-token熵-overview.md\":\"yMmqgiKV\",\"10-knowledge_250827-0736-扩散过程中打印数值-overview.md\":\"vw7Gz5_4\",\"10-knowledge_250828-0735-fm_transformers模型参数-overview.md\":\"wqj-DMMn\",\"10-knowledge_250829-0735-困惑度-overview.md\":\"msel50i0\",\"10-knowledge_250829-0735-惊讶度-overview.md\":\"DRmLapWg\",\"10-knowledge_250830-0735-pipeline检查-overview.md\":\"Dm1xkb3f\",\"10-knowledge_250903-0735-macos快捷操作.md\":\"D3c37vqB\",\"10-knowledge_250906-0735-vicreg监督.md\":\"Dd57c5Wc\",\"10-knowledge_250906-0735-投影层方案.md\":\"C22clrJL\",\"10-knowledge_250907-0735-特征解耦方案gpt参考.md\":\"QE9RuHLF\",\"10-knowledge_example-knowledge.md\":\"DWSfhqqG\",\"10-knowledge_index.md\":\"D7YErs8N\",\"10-knowledge_readme.md\":\"DX_wp92N\",\"20-papers_2025_2025-08-20-.md\":\"DCTyHO3m\",\"20-papers_2025_2025-08-20-vtla-preference-learning.md\":\"BizrrC37\",\"20-papers_250829-0735-qwen2.5-omni论文阅读.md\":\"Cx8gSJFV\",\"20-papers_index.md\":\"Rx3N4286\",\"20-papers_vla_all_papers.md\":\"CYgyoP_l\",\"30-ideas_2025_9月_250826-0737-与弘扬讨论-overview.md\":\"C6iq2em0\",\"30-ideas_2025_9月_250826-0737-现有模型结构可改进点-overview.md\":\"CR_pnMmR\",\"30-ideas_2025_9月_250827-0736-0826-与弘扬沟通-overview.md\":\"C2BHfEZx\",\"30-ideas_2025_9月_250829-0735-中间层模型方案梳理-overview.md\":\"QONbFOex\",\"30-ideas_2025_9月_250829-0735-论文理论包装方案.md\":\"D5ny1W3u\",\"30-ideas_2025_9月_250904-0735-多轮对话拓展idea-overview.md\":\"DogjKQ42\",\"30-ideas_2025_9月_250906-0735-0905_今日晨思.md\":\"CpoE1vCq\",\"30-ideas_2025_9月_250907-0735-梦梦的建议.md\":\"DPat3o-T\",\"30-ideas_2025_9月_week36-论文实验idea汇总.md\":\"DklZ5tYa\",\"30-ideas_index.md\":\"vC2LKruP\",\"40-experiments_250826-0736-0826测评日志.md\":\"DcuRq2z5\",\"40-experiments_250902-0735-0901实验分析.md\":\"CJ-n6KHc\",\"40-experiments_250904-0735-exp_card_0903_transencodder.md\":\"DngFnrmi\",\"40-experiments_250904-0735-实验日志模板.md\":\"z_bUPbrc\",\"40-experiments_exp_card_0908_dinov2.md\":\"aIgTjKuw\",\"40-experiments_index.md\":\"OjZdn4zK\",\"50-reports_250820-0754-ocr调研.md\":\"76hfXUhd\",\"50-reports_250827-0736-高熵强化学习.md\":\"BGjTIXbQ\",\"50-reports_250901-0735-resume.md\":\"Cht0KdOP\",\"50-reports_250903-0735-座舱vla端云协同方案.md\":\"BUGw-tzo\",\"50-reports_index.md\":\"Dd1uw3NR\",\"50-reports_resume_250901-0735-resume_network.md\":\"DkL0TB9W\",\"50-reports_座舱vla端云协同方案.md\":\"BoR0GFx-\",\"50-reports_文本扩散模型调研.md\":\"C_U4opUc\",\"50-reports_训练与部署资源申请书.md\":\"D_ztKl30\",\"50-reports_近期发布模型调研-0908.md\":\"bm38CHwU\",\"50-reports_长视频理解综述.md\":\"CEqqO3ga\",\"50-reports_高熵rl - 数据构建增益.md\":\"L_PhsjTX\",\"index.md\":\"DZVZkJJg\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ZhiGrove\",\"description\":\"Wang Yaqi's Knowledge Base\",\"base\":\"/ZhiGrove/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"收件箱\",\"link\":\"/00-inbox/\"},{\"text\":\"知识库\",\"link\":\"/10-knowledge/\"},{\"text\":\"论文\",\"link\":\"/20-papers/\"},{\"text\":\"灵感\",\"link\":\"/30-ideas/\"},{\"text\":\"实验\",\"link\":\"/40-experiments/\"},{\"text\":\"报告\",\"link\":\"/50-reports/\"}],\"sidebar\":{\"/00-inbox/\":[{\"text\":\"Inbox\",\"items\":[{\"text\":\"README\",\"link\":\"/00-inbox/\"},{\"text\":\"测试\",\"link\":\"/00-inbox/测试\"},{\"text\":\"week-34\",\"collapsed\":true,\"items\":[{\"text\":\"TRIAGE\",\"link\":\"/00-inbox/week-34/TRIAGE\"}]},{\"text\":\"week-35\",\"collapsed\":true,\"items\":[{\"text\":\"TRIAGE\",\"link\":\"/00-inbox/week-35/TRIAGE\"}]},{\"text\":\"week-36\",\"collapsed\":true,\"items\":[{\"text\":\"TRIAGE\",\"link\":\"/00-inbox/week-36/TRIAGE\"}]},{\"text\":\"week-37\",\"collapsed\":true,\"items\":[{\"text\":\"250908-0020-MoE llama结构\",\"link\":\"/00-inbox/week-37/250908-0020-MoE llama结构\"},{\"text\":\"250908-0020-clip损失\",\"link\":\"/00-inbox/week-37/250908-0020-clip损失\"},{\"text\":\"250908-0020-siglip损失\",\"link\":\"/00-inbox/week-37/250908-0020-siglip损失\"},{\"text\":\"250909-0023-dino语义监督\",\"link\":\"/00-inbox/week-37/250909-0023-dino语义监督\"},{\"text\":\"250910-0024-clip-siglip-vicreg损失区别与适用场景\",\"link\":\"/00-inbox/week-37/250910-0024-clip-siglip-vicreg损失区别与适用场景\"},{\"text\":\"250910-0024-训练loss调试思路\",\"link\":\"/00-inbox/week-37/250910-0024-训练loss调试思路\"}]},{\"text\":\"week-38\",\"collapsed\":true,\"items\":[{\"text\":\"250918-0024-0916talk\",\"link\":\"/00-inbox/week-38/250918-0024-0916talk\"},{\"text\":\"250920-0022-check_code\",\"link\":\"/00-inbox/week-38/250920-0022-check_code\"}]},{\"text\":\"week-39\",\"collapsed\":true,\"items\":[{\"text\":\"250919-0024-0919-代码框架问题排查\",\"link\":\"/00-inbox/week-39/250919-0024-0919-代码框架问题排查\"},{\"text\":\"250924-0024-0922-ocr-TODOlist\",\"link\":\"/00-inbox/week-39/250924-0024-0922-ocr-TODOlist\"},{\"text\":\"250925-0025-0923-复现crossflow\",\"link\":\"/00-inbox/week-39/250925-0025-0923-复现crossflow\"},{\"text\":\"250925-0025-语义调音\",\"link\":\"/00-inbox/week-39/250925-0025-语义调音\"}]},{\"text\":\"week-41\",\"collapsed\":true,\"items\":[{\"text\":\"251010-0025-0922-ocr-TODOlist\",\"link\":\"/00-inbox/week-41/251010-0025-0922-ocr-TODOlist\"},{\"text\":\"251010-0025-0923-复现crossflow\",\"link\":\"/00-inbox/week-41/251010-0025-0923-复现crossflow\"},{\"text\":\"251010-0025-dots_ocr服务部署 & 调用\",\"link\":\"/00-inbox/week-41/251010-0025-dots_ocr服务部署 & 调用\"},{\"text\":\"251010-0025-laion400m训练数据处理\",\"link\":\"/00-inbox/week-41/251010-0025-laion400m训练数据处理\"},{\"text\":\"251010-0025-语义调音\",\"link\":\"/00-inbox/week-41/251010-0025-语义调音\"}]},{\"text\":\"week-45\",\"collapsed\":true,\"items\":[{\"text\":\"251027-1431-VLA-VLA调研分享\",\"link\":\"/00-inbox/week-45/251027-1431-VLA-VLA调研分享\"},{\"text\":\"251104-1431-OCR任务-docx等格式文档检测\",\"link\":\"/00-inbox/week-45/251104-1431-OCR任务-docx等格式文档检测\"},{\"text\":\"251104-1431-VLA-扩散生成调研\",\"link\":\"/00-inbox/week-45/251104-1431-VLA-扩散生成调研\"},{\"text\":\"251104-1431-VLA-综述论文节选翻译-0925发布\",\"link\":\"/00-inbox/week-45/251104-1431-VLA-综述论文节选翻译-0925发布\"}]},{\"text\":\"week-46\",\"collapsed\":true,\"items\":[{\"text\":\"251111-0027-k线记忆卡\",\"link\":\"/00-inbox/week-46/251111-0027-k线记忆卡\"}]},{\"text\":\"week-50\",\"collapsed\":true,\"items\":[{\"text\":\"251113-1650-自动交易策略实现log\",\"link\":\"/00-inbox/week-50/251113-1650-自动交易策略实现log\"},{\"text\":\"251211-1650-JiT论文-视频要点\",\"link\":\"/00-inbox/week-50/251211-1650-JiT论文-视频要点\"},{\"text\":\"251211-1650-TRM应用于VLA\",\"link\":\"/00-inbox/week-50/251211-1650-TRM应用于VLA\"},{\"text\":\"251211-1650-TRM应用大纲\",\"link\":\"/00-inbox/week-50/251211-1650-TRM应用大纲\"},{\"text\":\"251211-1650-TRM论文精读笔记\",\"link\":\"/00-inbox/week-50/251211-1650-TRM论文精读笔记\"},{\"text\":\"251211-1650-VAE原理\",\"link\":\"/00-inbox/week-50/251211-1650-VAE原理\"},{\"text\":\"251211-1650-deepseekV3_2\",\"link\":\"/00-inbox/week-50/251211-1650-deepseekV3_2\"},{\"text\":\"251211-1650-rustdesk安装及配置\",\"link\":\"/00-inbox/week-50/251211-1650-rustdesk安装及配置\"},{\"text\":\"251211-1650-图像生成基座模型调研\",\"link\":\"/00-inbox/week-50/251211-1650-图像生成基座模型调研\"},{\"text\":\"251211-1650-场景理解分类功能\",\"link\":\"/00-inbox/week-50/251211-1650-场景理解分类功能\"},{\"text\":\"[251212-0031]index\",\"link\":\"/00-inbox/week-50/[251212-0031]index\"}]}]}],\"/10-knowledge/\":[{\"text\":\"Knowledge\",\"items\":[{\"text\":\"README\",\"link\":\"/10-knowledge/\"},{\"text\":\"250822-0737-重启训练一个半小时内不开始训-overview\",\"link\":\"/10-knowledge/250822-0737-重启训练一个半小时内不开始训-overview\"},{\"text\":\"250826-0737-OpenUni训练方法-overview\",\"link\":\"/10-knowledge/250826-0737-OpenUni训练方法-overview\"},{\"text\":\"250826-0737-i2i训练方案-overview\",\"link\":\"/10-knowledge/250826-0737-i2i训练方案-overview\"},{\"text\":\"250827-0736-token熵-overview\",\"link\":\"/10-knowledge/250827-0736-token熵-overview\"},{\"text\":\"250827-0736-扩散过程中打印数值-overview\",\"link\":\"/10-knowledge/250827-0736-扩散过程中打印数值-overview\"},{\"text\":\"250828-0735-fm_transformers模型参数-overview\",\"link\":\"/10-knowledge/250828-0735-fm_transformers模型参数-overview\"},{\"text\":\"250829-0735-困惑度-overview\",\"link\":\"/10-knowledge/250829-0735-困惑度-overview\"},{\"text\":\"250829-0735-惊讶度-overview\",\"link\":\"/10-knowledge/250829-0735-惊讶度-overview\"},{\"text\":\"250830-0735-pipeline检查-overview\",\"link\":\"/10-knowledge/250830-0735-pipeline检查-overview\"},{\"text\":\"250903-0735-macos快捷操作\",\"link\":\"/10-knowledge/250903-0735-macos快捷操作\"},{\"text\":\"250906-0735-VICReg监督\",\"link\":\"/10-knowledge/250906-0735-VICReg监督\"},{\"text\":\"250906-0735-投影层方案\",\"link\":\"/10-knowledge/250906-0735-投影层方案\"},{\"text\":\"250907-0735-特征解耦方案GPT参考\",\"link\":\"/10-knowledge/250907-0735-特征解耦方案GPT参考\"},{\"text\":\"example-knowledge\",\"link\":\"/10-knowledge/example-knowledge\"}]}],\"/20-papers/\":[{\"text\":\"Papers\",\"items\":[{\"text\":\"README\",\"link\":\"/20-papers/\"},{\"text\":\"250829-0735-Qwen2.5-Omni论文阅读\",\"link\":\"/20-papers/250829-0735-Qwen2.5-Omni论文阅读\"},{\"text\":\"2025\",\"collapsed\":true,\"items\":[{\"text\":\"2025-08-20-\",\"link\":\"/20-papers/2025/2025-08-20-\"},{\"text\":\"2025-08-20-vtla-preference-learning\",\"link\":\"/20-papers/2025/2025-08-20-vtla-preference-learning\"}]},{\"text\":\"vla\",\"collapsed\":true,\"items\":[{\"text\":\"all_papers\",\"link\":\"/20-papers/vla/all_papers\"}]}]}],\"/30-ideas/\":[{\"text\":\"Ideas\",\"items\":[{\"text\":\"README\",\"link\":\"/30-ideas/\"},{\"text\":\"2025\",\"collapsed\":true,\"items\":[{\"text\":\"9月\",\"collapsed\":true,\"items\":[{\"text\":\"250826-0737-与弘扬讨论-overview\",\"link\":\"/30-ideas/2025/9月/250826-0737-与弘扬讨论-overview\"},{\"text\":\"250826-0737-现有模型结构可改进点-overview\",\"link\":\"/30-ideas/2025/9月/250826-0737-现有模型结构可改进点-overview\"},{\"text\":\"250827-0736-0826-与弘扬沟通-overview\",\"link\":\"/30-ideas/2025/9月/250827-0736-0826-与弘扬沟通-overview\"},{\"text\":\"250829-0735-中间层模型方案梳理-overview\",\"link\":\"/30-ideas/2025/9月/250829-0735-中间层模型方案梳理-overview\"},{\"text\":\"250829-0735-论文理论包装方案\",\"link\":\"/30-ideas/2025/9月/250829-0735-论文理论包装方案\"},{\"text\":\"250904-0735-多轮对话拓展idea-overview\",\"link\":\"/30-ideas/2025/9月/250904-0735-多轮对话拓展idea-overview\"},{\"text\":\"250906-0735-0905_今日晨思\",\"link\":\"/30-ideas/2025/9月/250906-0735-0905_今日晨思\"},{\"text\":\"250907-0735-梦梦的建议\",\"link\":\"/30-ideas/2025/9月/250907-0735-梦梦的建议\"},{\"text\":\"week36-论文实验idea汇总\",\"link\":\"/30-ideas/2025/9月/week36-论文实验idea汇总\"}]}]}]}],\"/40-experiments/\":[{\"text\":\"Experiments\",\"items\":[{\"text\":\"README\",\"link\":\"/40-experiments/\"},{\"text\":\"250826-0736-0826测评日志\",\"link\":\"/40-experiments/250826-0736-0826测评日志\"},{\"text\":\"250902-0735-0901实验分析\",\"link\":\"/40-experiments/250902-0735-0901实验分析\"},{\"text\":\"250904-0735-exp_card_0903_transencodder\",\"link\":\"/40-experiments/250904-0735-exp_card_0903_transencodder\"},{\"text\":\"250904-0735-实验日志模板\",\"link\":\"/40-experiments/250904-0735-实验日志模板\"},{\"text\":\"exp_card_0908_dinov2\",\"link\":\"/40-experiments/exp_card_0908_dinov2\"}]}],\"/50-reports/\":[{\"text\":\"Reports\",\"items\":[{\"text\":\"README\",\"link\":\"/50-reports/\"},{\"text\":\"250820-0754-OCR调研\",\"link\":\"/50-reports/250820-0754-OCR调研\"},{\"text\":\"250827-0736-高熵强化学习\",\"link\":\"/50-reports/250827-0736-高熵强化学习\"},{\"text\":\"250901-0735-resume\",\"link\":\"/50-reports/250901-0735-resume\"},{\"text\":\"250903-0735-座舱VLA端云协同方案\",\"link\":\"/50-reports/250903-0735-座舱VLA端云协同方案\"},{\"text\":\"座舱VLA端云协同方案\",\"link\":\"/50-reports/座舱VLA端云协同方案\"},{\"text\":\"文本扩散模型调研\",\"link\":\"/50-reports/文本扩散模型调研\"},{\"text\":\"训练与部署资源申请书\",\"link\":\"/50-reports/训练与部署资源申请书\"},{\"text\":\"近期发布模型调研-0908\",\"link\":\"/50-reports/近期发布模型调研-0908\"},{\"text\":\"长视频理解综述\",\"link\":\"/50-reports/长视频理解综述\"},{\"text\":\"高熵RL - 数据构建增益\",\"link\":\"/50-reports/高熵RL - 数据构建增益\"},{\"text\":\"resume\",\"collapsed\":true,\"items\":[{\"text\":\"250901-0735-resume_network\",\"link\":\"/50-reports/resume/250901-0735-resume_network\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wangyaqi/ZhiGrove\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2025 Wang Yaqi\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>