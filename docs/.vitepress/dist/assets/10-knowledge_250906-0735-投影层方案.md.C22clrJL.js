import{_ as e,c as t,o as l,ag as o}from"./chunks/framework.OaOo95RB.js";const _=JSON.parse('{"title":"投影层方案","description":"","frontmatter":{"title":"投影层方案","created":"2025-09-07 16:58","updated":"2025-09-07T00:00:00.000Z","origin":"week-36","type":"knowledge","status":"draft","tags":["projector"],"links":[]},"headers":[],"relativePath":"10-knowledge/250906-0735-投影层方案.md","filePath":"10-knowledge/250906-0735-投影层方案.md"}'),i={name:"10-knowledge/250906-0735-投影层方案.md"};function r(n,a,s,h,d,c){return l(),t("div",null,[...a[0]||(a[0]=[o('<h2 id="tl-dr-≤3点" tabindex="-1">TL;DR（≤3点） <a class="header-anchor" href="#tl-dr-≤3点" aria-label="Permalink to &quot;TL;DR（≤3点）&quot;">​</a></h2><ul><li></li><li></li><li></li></ul><h2 id="what-是什么" tabindex="-1">What（是什么） <a class="header-anchor" href="#what-是什么" aria-label="Permalink to &quot;What（是什么）&quot;">​</a></h2><ul><li></li></ul><h2 id="why-为什么这么做-何时使用" tabindex="-1">Why（为什么这么做/何时使用） <a class="header-anchor" href="#why-为什么这么做-何时使用" aria-label="Permalink to &quot;Why（为什么这么做/何时使用）&quot;">​</a></h2><ul><li></li></ul><h2 id="how-最小复现配方-≤5步" tabindex="-1">How（最小复现配方，≤5步） <a class="header-anchor" href="#how-最小复现配方-≤5步" aria-label="Permalink to &quot;How（最小复现配方，≤5步）&quot;">​</a></h2><ul><li></li></ul><h2 id="gotchas-坑点与边界" tabindex="-1">Gotchas（坑点与边界） <a class="header-anchor" href="#gotchas-坑点与边界" aria-label="Permalink to &quot;Gotchas（坑点与边界）&quot;">​</a></h2><ul><li></li></ul><h2 id="raw-notes" tabindex="-1">Raw Notes <a class="header-anchor" href="#raw-notes" aria-label="Permalink to &quot;Raw Notes&quot;">​</a></h2><p><strong>投影层是指 LLM 的last hidden state（MetaQuery对应的部分）</strong></p><p>方案一：</p><ol><li>TransEncoder：</li></ol><p>组成结构：</p><ul><li>N 层 Encoder layer（多头注意力层</li><li>3层Encoder Reduction layer（多头注意力层 + 降维线性层）</li><li>线性层 indim = d_model(降维后) * num_token; outdim = latten_size;</li><li></li></ul><ol start="2"><li>MLP</li></ol><p>DINO v2，v3进行监督；</p><p>使用pytorch 的平滑操作进行loss 平滑。</p><p>import torch.nn.functional as F F.smooth_l1_loss</p>',20)])])}const p=e(i,[["render",r]]);export{_ as __pageData,p as default};
