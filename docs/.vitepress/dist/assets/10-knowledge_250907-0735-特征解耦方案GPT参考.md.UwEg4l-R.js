import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.CQuhCYrb.js";const d=JSON.parse('{"title":"ç‰¹å¾è§£è€¦æ–¹æ¡ˆGPTå‚è€ƒ","description":"","frontmatter":{"title":"ç‰¹å¾è§£è€¦æ–¹æ¡ˆGPTå‚è€ƒ","created":"2025-09-07 16:59","updated":"2025-09-07T00:00:00.000Z","origin":"week-36","type":"knowledge","status":"draft","tags":["MetaQuery"],"links":[]},"headers":[],"relativePath":"10-knowledge/250907-0735-ç‰¹å¾è§£è€¦æ–¹æ¡ˆGPTå‚è€ƒ.md","filePath":"10-knowledge/250907-0735-ç‰¹å¾è§£è€¦æ–¹æ¡ˆGPTå‚è€ƒ.md"}'),h={name:"10-knowledge/250907-0735-ç‰¹å¾è§£è€¦æ–¹æ¡ˆGPTå‚è€ƒ.md"};function k(l,s,p,e,r,E){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h2 id="tl-dr-â‰¤3ç‚¹" tabindex="-1">TL;DRï¼ˆâ‰¤3ç‚¹ï¼‰ <a class="header-anchor" href="#tl-dr-â‰¤3ç‚¹" aria-label="Permalink to &quot;TL;DRï¼ˆâ‰¤3ç‚¹ï¼‰&quot;">â€‹</a></h2><ul><li></li><li></li><li></li></ul><h2 id="what-æ˜¯ä»€ä¹ˆ" tabindex="-1">Whatï¼ˆæ˜¯ä»€ä¹ˆï¼‰ <a class="header-anchor" href="#what-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;Whatï¼ˆæ˜¯ä»€ä¹ˆï¼‰&quot;">â€‹</a></h2><ul><li></li></ul><h2 id="why-ä¸ºä»€ä¹ˆè¿™ä¹ˆåš-ä½•æ—¶ä½¿ç”¨" tabindex="-1">Whyï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆåš/ä½•æ—¶ä½¿ç”¨ï¼‰ <a class="header-anchor" href="#why-ä¸ºä»€ä¹ˆè¿™ä¹ˆåš-ä½•æ—¶ä½¿ç”¨" aria-label="Permalink to &quot;Whyï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆåš/ä½•æ—¶ä½¿ç”¨ï¼‰&quot;">â€‹</a></h2><ul><li></li></ul><h2 id="how-æœ€å°å¤ç°é…æ–¹-â‰¤5æ­¥" tabindex="-1">Howï¼ˆæœ€å°å¤ç°é…æ–¹ï¼Œâ‰¤5æ­¥ï¼‰ <a class="header-anchor" href="#how-æœ€å°å¤ç°é…æ–¹-â‰¤5æ­¥" aria-label="Permalink to &quot;Howï¼ˆæœ€å°å¤ç°é…æ–¹ï¼Œâ‰¤5æ­¥ï¼‰&quot;">â€‹</a></h2><ul><li></li></ul><h2 id="gotchas-å‘ç‚¹ä¸è¾¹ç•Œ" tabindex="-1">Gotchasï¼ˆå‘ç‚¹ä¸è¾¹ç•Œï¼‰ <a class="header-anchor" href="#gotchas-å‘ç‚¹ä¸è¾¹ç•Œ" aria-label="Permalink to &quot;Gotchasï¼ˆå‘ç‚¹ä¸è¾¹ç•Œï¼‰&quot;">â€‹</a></h2><ul><li></li></ul><h2 id="raw-notes" tabindex="-1">Raw Notes <a class="header-anchor" href="#raw-notes" aria-label="Permalink to &quot;Raw Notes&quot;">â€‹</a></h2><p>å¥½çš„ï¼ä¸‹é¢ç»™å‡º<strong>4 å¥—â€œå¯ç›´æ¥è½åœ° + æœ‰è®ºæ–‡èƒŒä¹¦â€çš„æ¨¡æ€è§£è€¦æ–¹æ¡ˆ</strong>ã€‚æ¯å¥—éƒ½åŒ…å«ï¼šæ€è·¯â†’æœ€å°ä¼ªä»£ç â†’è®­ç»ƒè¦ç‚¹ä¸å¯¹åº”å‚è€ƒæ–‡çŒ®ã€‚ä½ å¯ä»¥æŠŠä»»æ„ä¸€å¥—å†™è¿›ç®€å†â€œéš¾ç‚¹&amp;æ–¹æ¡ˆâ€ï¼Œå¹¶åœ¨è®ºæ–‡èŠ‚é€‰é‡Œç»™å‡ºå‡ºå¤„ã€‚</p><hr><h1 id="æ–¹æ¡ˆä¸€-æŒ‰æ¨¡æ€çš„æŸ¥è¯¢åº“-q-former-perceiver-é£æ ¼" tabindex="-1">æ–¹æ¡ˆä¸€ï½œæŒ‰æ¨¡æ€çš„æŸ¥è¯¢åº“ï¼ˆQ-Former/Perceiver é£æ ¼ï¼‰ <a class="header-anchor" href="#æ–¹æ¡ˆä¸€-æŒ‰æ¨¡æ€çš„æŸ¥è¯¢åº“-q-former-perceiver-é£æ ¼" aria-label="Permalink to &quot;æ–¹æ¡ˆä¸€ï½œæŒ‰æ¨¡æ€çš„æŸ¥è¯¢åº“ï¼ˆQ-Former/Perceiver é£æ ¼ï¼‰&quot;">â€‹</a></h1><p><strong>è¦ç‚¹</strong>ï¼šç»™æ¯ä¸ªæ¨¡æ€è®¾ç‹¬ç«‹çš„æŸ¥è¯¢å‘é‡åº“ï¼ˆQ_textã€Q_imgï¼‰ï¼Œåªå¯¹å„è‡ªæ¨¡æ€åš cross-attn æŠ½å–ï¼›å†ç”¨ä¸€ä¸ªå°‘é‡çš„å…±äº«æŸ¥è¯¢ Q_share èšåˆå¤šæ¨¡æ€å…¬å…±ä¿¡æ¯ã€‚ <strong>å‡ºå¤„</strong>ï¼šBLIP-2 çš„ <strong>Q-Former</strong> ç”¨å¯å­¦ä¹  queries è¿æ¥è§†è§‰ç¼–ç å™¨ä¸ LLMï¼›Flamingo çš„ <strong>Perceiver-Resampler</strong>/Perceiver-IO ç”¨â€œæ½œåœ¨æŸ¥è¯¢â€è·¨æ¨¡æ€è¯»å–ç‰¹å¾ã€‚(<a href="https://arxiv.org/pdf/2301.12597?utm_source=chatgpt.com" title="BLIP-2: Bootstrapping Language-Image Pre-training with ..." target="_blank" rel="noreferrer">arXiv</a>, <a href="https://proceedings.neurips.cc/paper_files/paper/2022/file/960a172bc7fbf0177ccccbb411a7d800-Paper-Conference.pdf?utm_source=chatgpt.com" title="ğŸ¦© Flamingo: a Visual Language Model for Few-Shot Learning" target="_blank" rel="noreferrer">NeurIPS ä¼šè®®è®°å½•</a>)</p><p><strong>æœ€å°ä¼ªä»£ç ï¼ˆPyTorch é£æ ¼ï¼‰</strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DualBankExtractor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, d, n_q_text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n_q_img</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n_q_share</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_text  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_q_text, d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_img   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_q_img,  d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_share </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_q_share, d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cross   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MultiheadAttention(d, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num_heads</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">batch_first</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xattn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, Q, KV):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        B </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.size(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Q.unsqueeze(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).expand(B, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Z, A </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cross(Q, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">need_weights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (B,Lq,D), (B,Lq,Lkv)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Z, A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, txt_tokens, img_tokens, open_share</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Zt, At </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xattn(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_text,  txt_tokens)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç§æœ‰ï¼šåªè¯»æ–‡æœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Zi, Ai </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xattn(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_img,   img_tokens)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç§æœ‰ï¼šåªè¯»å›¾åƒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Zs, As </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> open_share:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            KV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.cat([txt_tokens, img_tokens], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Zs, As </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xattn(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Q_share, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…±äº«æ¡¥ï¼šè¯»ä¸¤æ¨¡æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zt, Zi, Zs, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;At&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: At, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Ai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Ai, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;As&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: As}</span></span></code></pre></div><p><strong>è®­ç»ƒè¦ç‚¹ï¼ˆé…å¥—æŸå¤±ï¼‰</strong></p><ul><li>å…ˆ<strong>å†»ç»“å…±äº«æ¡¥</strong>ï¼ˆåªè®­ç§æœ‰åˆ†æ”¯ 30% è¿›åº¦ï¼‰ï¼Œå†çº¿æ€§æ”¾å¼€ Q_shareâ€”â€”ä¸ BLIP-2/Perceiver çš„â€œè½»æŸ¥è¯¢ã€é‡ç¼–ç å™¨â€æ€è·¯ä¸€è‡´ã€‚(<a href="https://arxiv.org/pdf/2301.12597?utm_source=chatgpt.com" title="BLIP-2: Bootstrapping Language-Image Pre-training with ..." target="_blank" rel="noreferrer">arXiv</a>)</li><li>å…±äº«å¯¹é½ï¼šInfoNCE/å¯¹æ¯”å­¦ä¹ ï¼ˆä»…ä½œç”¨äº Z_shareï¼‰ã€‚(<a href="https://arxiv.org/abs/1807.03748?utm_source=chatgpt.com" title="Representation Learning with Contrastive Predictive Coding" target="_blank" rel="noreferrer">arXiv</a>)</li><li>ç§æœ‰å»ç›¸å…³ï¼šVICReg/Barlow Twins çš„åæ–¹å·®/å†—ä½™æŠ‘åˆ¶é¡¹ï¼Œé˜²æ­¢è·¨æ¨¡æ€æ··æŸ“ã€‚(<a href="https://arxiv.org/abs/2105.04906?utm_source=chatgpt.com" title="VICReg: Variance-Invariance-Covariance Regularization ..." target="_blank" rel="noreferrer">arXiv</a>, <a href="https://proceedings.mlr.press/v139/zbontar21a/zbontar21a.pdf?utm_source=chatgpt.com" title="Barlow Twins: Self-Supervised Learning via Redundancy ..." target="_blank" rel="noreferrer">Proceedings of Machine Learning Research</a>)</li></ul><hr><h1 id="æ–¹æ¡ˆäºŒ-ç±»å‹åŒ–-slot-attention-å¯¹è±¡æ§½çš„å¤šæ¨¡æ€ç‰ˆ" tabindex="-1">æ–¹æ¡ˆäºŒï½œâ€œç±»å‹åŒ–â€ Slot-Attentionï¼ˆå¯¹è±¡æ§½çš„å¤šæ¨¡æ€ç‰ˆï¼‰ <a class="header-anchor" href="#æ–¹æ¡ˆäºŒ-ç±»å‹åŒ–-slot-attention-å¯¹è±¡æ§½çš„å¤šæ¨¡æ€ç‰ˆ" aria-label="Permalink to &quot;æ–¹æ¡ˆäºŒï½œâ€œç±»å‹åŒ–â€ Slot-Attentionï¼ˆå¯¹è±¡æ§½çš„å¤šæ¨¡æ€ç‰ˆï¼‰&quot;">â€‹</a></h1><p><strong>è¦ç‚¹</strong>ï¼šä¸º text/img/share é¢„ç½®<strong>å¸¦ç±»å‹åµŒå…¥</strong>çš„ slotsï¼›æ—©æœŸæ§½åªè¯»æœ¬æ¨¡æ€ï¼ŒåæœŸæ”¾å¼€å…±äº«æ§½è·¨æ¨¡æ€è¯»å†™ï¼›å¤©ç„¶å…·å¤‡ç½®æ¢ä¸å˜çš„é›†åˆå»ºæ¨¡èƒ½åŠ›ã€‚ <strong>å‡ºå¤„</strong>ï¼š<strong>Slot Attention</strong> æå‡ºç”¨å°‘é‡å¯äº¤æ¢ slots èšåˆå¤§è§„æ¨¡è¾“å…¥ï¼›åç»­å·¥ä½œåœ¨è‡ªé€‚åº” slot æ•°é‡ä¸ç¨³å®šè®­ç»ƒä¸Šæœ‰æ‰©å±•ã€‚(<a href="https://arxiv.org/abs/2006.15055?utm_source=chatgpt.com" title="Object-Centric Learning with Slot Attention" target="_blank" rel="noreferrer">arXiv</a>)</p><p><strong>æœ€å°ä¼ªä»£ç </strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TypedSlots</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, d, n_text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n_img</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n_share</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, steps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_text  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_text,  d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_img   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_img,   d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_share </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Parameter(torch.randn(n_share, d))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.type_emb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Embedding(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0=text, 1=img, 2=share</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xattn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MultiheadAttention(d, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">batch_first</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.gru   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.GRUCell(d, d)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.steps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> steps</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, S, KV):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        B </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.size(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); S0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> S.unsqueeze(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).expand(B, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        C, _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xattn(S0, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">KV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¯»å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        S1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.gru(C.reshape(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C.size(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)), S0.reshape(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C.size(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> S1.reshape_as(C)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, txt, img, stage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        B </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> txt.size(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        St </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_text.unsqueeze(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).expand(B, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.type_emb.weight[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Si </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_img .unsqueeze(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).expand(B, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.type_emb.weight[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Ss </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.S_share.unsqueeze(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).expand(B, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.type_emb.weight[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.steps):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            St </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.update(St, txt)                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä»…å†…æ¨¡æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Si </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.update(Si, img)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Ss </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.update(Ss, torch.cat([txt, img], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> St, Si, Ss</span></span></code></pre></div><p><strong>è®­ç»ƒè¦ç‚¹</strong></p><ul><li>ç›‘æ§â€œè·¨æ¨¡æ€æ³¨æ„åŠ›æ³„æ¼å æ¯”â€å¹¶æƒ©ç½šï¼›å…±äº«æ§½ç”¨äºä¸‹æ¸¸å¯¹é½ï¼ˆFM/CLIP ç­‰ï¼‰ã€‚Slot-Attention çš„â€œé›†åˆ/æ§½ä½â€å±æ€§å‡å°‘é¡ºåºä¾èµ–ï¼Œåˆ©äºè§£è€¦ã€‚(<a href="https://arxiv.org/abs/2006.15055?utm_source=chatgpt.com" title="Object-Centric Learning with Slot Attention" target="_blank" rel="noreferrer">arXiv</a>)</li></ul><hr><h1 id="æ–¹æ¡ˆä¸‰-å…±äº«-ç§æœ‰åˆ†è§£-shared-private-factorization" tabindex="-1">æ–¹æ¡ˆä¸‰ï½œå…±äº«-ç§æœ‰åˆ†è§£ï¼ˆShared-Private Factorizationï¼‰ <a class="header-anchor" href="#æ–¹æ¡ˆä¸‰-å…±äº«-ç§æœ‰åˆ†è§£-shared-private-factorization" aria-label="Permalink to &quot;æ–¹æ¡ˆä¸‰ï½œå…±äº«-ç§æœ‰åˆ†è§£ï¼ˆShared-Private Factorizationï¼‰&quot;">â€‹</a></h1><p><strong>è¦ç‚¹</strong>ï¼šæ¯æ¨¡æ€è¾“å‡ºåˆ†åˆ«æŠ•å½±åˆ°<strong>ç§æœ‰å­ç©ºé—´</strong>ä¸<strong>å…±äº«å­ç©ºé—´</strong>ï¼›å…±äº«éƒ¨åˆ†åšè·¨æ¨¡æ€å¯¹é½ï¼Œç§æœ‰éƒ¨åˆ†åšå»ç›¸å…³/ç‹¬ç«‹æ€§çº¦æŸã€‚ <strong>å‡ºå¤„</strong>ï¼š<strong>MISA</strong> å°†æ¨¡æ€è¡¨ç¤ºæ‹†ä¸º invariantï¼ˆå…±äº«ï¼‰ä¸ specificï¼ˆç§æœ‰ï¼‰å¹¶åŠ æ­£äº¤/å»ç›¸å…³çº¦æŸï¼›<strong>VCCA-private/DCCA</strong> ä» CCA è§†è§’å¯¹â€œå…±äº«æ½œå˜é‡â€å»ºæ¨¡ã€‚(<a href="https://arxiv.org/abs/2005.03545?utm_source=chatgpt.com" title="MISA: Modality-Invariant and -Specific Representations for Multimodal Sentiment Analysis" target="_blank" rel="noreferrer">arXiv</a>, <a href="https://dl.acm.org/doi/10.1145/3394171.3413678?utm_source=chatgpt.com" title="MISA: Modality-Invariant and -Specific Representations for ..." target="_blank" rel="noreferrer">ACM Digital Library</a>, <a href="https://proceedings.mlr.press/v28/andrew13.html?utm_source=chatgpt.com" title="Deep Canonical Correlation Analysis" target="_blank" rel="noreferrer">Proceedings of Machine Learning Research</a>)</p><p><strong>æœ€å°ä¼ªä»£ç </strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedPrivateProj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, d_in, d_priv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d_share</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.to_priv  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Linear(d_in, d_priv)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.to_share </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Linear(d_in, d_share)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, H):             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># H: (B, L, D)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.to_priv(H), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.to_share(H)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Ht </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enc_text(txt) ; Hi </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enc_img(img)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Zt_p, Zt_s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> proj_t(Ht); Zi_p, Zi_s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> proj_i(Hi)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># losses</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L_align  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> info_nce(Zt_s, Zi_s)                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…±äº«å¯¹é½ï¼ˆæˆ– DCCA/CCA é£æ ¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L_decorr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((Zt_p.reshape(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Zt_p.size(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zt_p.mean((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))).T </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (Zi_p.reshape(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Zi_p.size(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Zi_p.mean((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))) ).pow(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).mean()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">loss </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L_task </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Î±</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L_align </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Î²</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L_decorr</span></span></code></pre></div><p><strong>è®­ç»ƒè¦ç‚¹</strong></p><ul><li>å‰æœŸåªè®­ç§æœ‰ï¼ˆÎ² è¾ƒå¤§ï¼‰ï¼ŒåæœŸé€æ­¥æ‰“å¼€å…±äº«å¯¹é½ï¼ˆå¢å¤§ Î±ï¼‰ã€‚</li><li>è‹¥æƒ³æ›´å¼ºç‹¬ç«‹æ€§ï¼Œå¯ç”¨ <strong>HSIC</strong> æƒ©ç½šç§æœ‰é—´ä¾èµ–ï¼ˆæ ¸ç‹¬ç«‹æ€§å‡†åˆ™ï¼‰ã€‚(<a href="https://www.gatsby.ucl.ac.uk/~gretton/papers/GreBouSmoSch05.pdf?utm_source=chatgpt.com" title="Measuring Statistical Dependence with Hilbert-Schmidt ..." target="_blank" rel="noreferrer">Gatsby</a>, <a href="https://arxiv.org/abs/1501.06103?utm_source=chatgpt.com" title="A simpler condition for consistency of a kernel ..." target="_blank" rel="noreferrer">arXiv</a>)</li></ul><hr><h1 id="æ–¹æ¡ˆå››-æ¨¡æ€æ„ŸçŸ¥è·¯ç”±çš„ç¨€ç–-moe" tabindex="-1">æ–¹æ¡ˆå››ï½œæ¨¡æ€æ„ŸçŸ¥è·¯ç”±çš„ç¨€ç– MoE <a class="header-anchor" href="#æ–¹æ¡ˆå››-æ¨¡æ€æ„ŸçŸ¥è·¯ç”±çš„ç¨€ç–-moe" aria-label="Permalink to &quot;æ–¹æ¡ˆå››ï½œæ¨¡æ€æ„ŸçŸ¥è·¯ç”±çš„ç¨€ç– MoE&quot;">â€‹</a></h1><p><strong>è¦ç‚¹</strong>ï¼šæŠŠâ€œç§æœ‰/å…±äº«å¤„ç†â€ä¸‹æ²‰åˆ°ä¸“å®¶å±‚ï¼›ä¸ºæ–‡æœ¬ã€å›¾åƒã€å…±äº«åˆ†åˆ«é…ä¸“å®¶ç°‡ï¼Œè·¯ç”±å™¨è¯»å…¥æ¨¡æ€/ç±»å‹åµŒå…¥é€‰æ‹©ä¸“å®¶ï¼ˆTop-1/Top-2ï¼‰ï¼Œç¨€ç–æ¿€æ´»å‡å°‘ä¸²æ‰°ã€‚ <strong>å‡ºå¤„</strong>ï¼š<strong>Switch Transformer</strong> ç®€åŒ– MoE è·¯ç”±å¹¶æå‡ç¨³å®šæ€§ï¼›<strong>V-MoE</strong> å°† MoE æˆåŠŸåº”ç”¨åˆ°è§†è§‰ Transformerã€‚(<a href="https://arxiv.org/abs/2101.03961?utm_source=chatgpt.com" title="Switch Transformers: Scaling to Trillion Parameter Models with Simple and Efficient Sparsity" target="_blank" rel="noreferrer">arXiv</a>, <a href="https://papers.neurips.cc/paper_files/paper/2021/file/48237d9f2dea8c74c2a72126cf63d933-Paper.pdf?utm_source=chatgpt.com" title="Scaling Vision with Sparse Mixture of Experts" target="_blank" rel="noreferrer">NeurIPS Papers</a>)</p><p><strong>æœ€å°ä¼ªä»£ç </strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModalityMoE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, d, experts, router):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.experts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.ModuleList(experts)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¸“å®¶åˆ—è¡¨ï¼štext/img/share/...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.router  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> router                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¯»å…¥ token + type_id â†’ åˆ†é… Top-k</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, tokens, type_id):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # router è¾“å‡ºæ¯ä¸ª token çš„ (topk_ids, gates)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        topk_ids, gates </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.router(tokens, type_id)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (B,L,k), (B,L,k)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(topk_ids.size(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            sel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> topk_ids[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, k]                      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é€‰ä¸­ä¸“å®¶ id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            yk  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dispatch_and_apply(tokens, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.experts, sel)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¸¸è§ MoE å®ç°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gates[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, k:k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> yk</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> out</span></span></code></pre></div><p><strong>è®­ç»ƒè¦ç‚¹</strong></p><ul><li>ç”¨è´Ÿè½½å‡è¡¡/ç†µæ­£åˆ™ç¨³å®šè·¯ç”±ï¼›å¤šç›®æ ‡ï¼ˆFM/CLIP/KL+å‡è¡¡æŸå¤±ï¼‰å¹¶å­˜æ—¶ï¼Œé… <strong>PCGrad/GradNorm</strong> é™ä½æ¢¯åº¦å†²çªã€‚(<a href="https://arxiv.org/abs/2101.03961?utm_source=chatgpt.com" title="Switch Transformers: Scaling to Trillion Parameter Models with Simple and Efficient Sparsity" target="_blank" rel="noreferrer">arXiv</a>, <a href="https://proceedings.neurips.cc/paper/2020/file/3fe78a8acf5fda99de95303940a2420c-Paper.pdf?utm_source=chatgpt.com" title="Gradient Surgery for Multi-Task Learning" target="_blank" rel="noreferrer">NeurIPS ä¼šè®®è®°å½•</a>)</li></ul><hr><h2 id="ç›‘æ§ä¸é²æ£’æ€§éªŒè¯-å¯å†™å…¥-å·¥ç¨‹åŒ–ä¿éšœ" tabindex="-1">ç›‘æ§ä¸é²æ£’æ€§éªŒè¯ï¼ˆå¯å†™å…¥â€œå·¥ç¨‹åŒ–ä¿éšœâ€ï¼‰ <a class="header-anchor" href="#ç›‘æ§ä¸é²æ£’æ€§éªŒè¯-å¯å†™å…¥-å·¥ç¨‹åŒ–ä¿éšœ" aria-label="Permalink to &quot;ç›‘æ§ä¸é²æ£’æ€§éªŒè¯ï¼ˆå¯å†™å…¥â€œå·¥ç¨‹åŒ–ä¿éšœâ€ï¼‰&quot;">â€‹</a></h2><ul><li><strong>CKA/SVCCA</strong> è¯„ä¼°â€œåŒæ¨¡æ€ç§æœ‰é«˜ã€è·¨æ¨¡æ€ç§æœ‰ä½ã€å…±äº«è·¨æ¨¡æ€é«˜â€çš„ç›¸ä¼¼åº¦ç»“æ„ï¼›æŠŠ CKA æ›²çº¿åšæˆä»ªè¡¨æ¿ã€‚(<a href="https://arxiv.org/abs/1905.00414?utm_source=chatgpt.com" title="Similarity of Neural Network Representations Revisited" target="_blank" rel="noreferrer">arXiv</a>, <a href="https://proceedings.mlr.press/v97/kornblith19a/kornblith19a.pdf?utm_source=chatgpt.com" title="Similarity of Neural Network Representations Revisited" target="_blank" rel="noreferrer">Proceedings of Machine Learning Research</a>)</li><li><strong>ï¼ˆå¯é€‰ï¼‰ç½®æ¢ä¸€è‡´æ€§</strong>ï¼šè‹¥å­˜åœ¨å¯äº¤æ¢çš„å¤šæŸ¥è¯¢/å¤šæ§½ï¼Œå¯å‚è€ƒ <strong>DETR çš„ Hungarian åŒ¹é…</strong>åšæœ€ä¼˜ä¸€ä¸€å¯¹é½ï¼Œä»è€Œå¯¹è¾“å…¥/æ§½ä½ç½®æ¢ä¿æŒç­‰ä»·ï¼ˆé¿å…â€œé‡æ’å¼•å‘æ¼‚ç§»â€ï¼‰ã€‚(<a href="https://arxiv.org/pdf/2005.12872?utm_source=chatgpt.com" title="arXiv:2005.12872v3 [cs.CV] 28 May 2020" target="_blank" rel="noreferrer">arXiv</a>)</li></ul><hr><h2 id="ç®€å†å¯å¤ç”¨è¡¨è¿°-æŒ‘ä¸€ç‰ˆ" tabindex="-1">ç®€å†å¯å¤ç”¨è¡¨è¿°ï¼ˆæŒ‘ä¸€ç‰ˆï¼‰ <a class="header-anchor" href="#ç®€å†å¯å¤ç”¨è¡¨è¿°-æŒ‘ä¸€ç‰ˆ" aria-label="Permalink to &quot;ç®€å†å¯å¤ç”¨è¡¨è¿°ï¼ˆæŒ‘ä¸€ç‰ˆï¼‰&quot;">â€‹</a></h2><ul><li><p><strong>å­¦æœ¯ç‰ˆ</strong>ï¼š â€œæå‡ºåŸºäº <strong>Q-Former/Perceiver æŸ¥è¯¢åº“</strong> ä¸ <strong>Shared-Private</strong> åˆ†è§£çš„æ¨¡æ€è§£è€¦æ¡†æ¶ï¼šç§æœ‰åˆ†æ”¯ä»…åš<strong>åŒæ¨¡æ€ cross-attn</strong>ï¼Œå…±äº«åˆ†æ”¯ä»¥ <strong>InfoNCE/CCA</strong> å¯¹é½ï¼›è¾…ä»¥ <strong>VICReg/Barlow</strong> å»ç›¸å…³ä¸ <strong>HSIC</strong> ç‹¬ç«‹æ€§æ­£åˆ™ï¼Œæ˜¾è‘—é™ä½è·¨æ¨¡æ€æ³„æ¼ã€‚åœ¨ç¨€ç–åœºæ™¯ä¸‹å¼•å…¥ <strong>MoE è·¯ç”±</strong>ï¼Œå¹¶ç”¨ <strong>PCGrad/GradNorm</strong> ç¨³å®šå¤šç›®æ ‡ä¼˜åŒ–ã€‚â€ï¼ˆBLIP-2ã€Perceiver-IOã€Slot-Attentionã€MISAã€VCCAã€VICReg/Barlowã€Switch/V-MoE ç­‰ï¼‰(<a href="https://arxiv.org/pdf/2301.12597?utm_source=chatgpt.com" title="BLIP-2: Bootstrapping Language-Image Pre-training with ..." target="_blank" rel="noreferrer">arXiv</a>)</p></li><li><p><strong>å·¥ç¨‹ç‰ˆ</strong>ï¼š â€œè½åœ°å››å¥—è§£è€¦æ–¹æ¡ˆï¼ˆæŸ¥è¯¢åº“ã€Typed-Slotsã€Shared-Privateã€MoE è·¯ç”±ï¼‰ï¼Œ<strong>å…ˆç§æœ‰åå…±äº«</strong>çš„è¯¾ç¨‹å¼è®­ç»ƒ + <strong>CKA/æ³„æ¼ç‡</strong>ç›‘æ§ï¼›å¤§å¹…é™ä½åˆ†å—-é‡æ’å¯¼è‡´çš„è¯­ä¹‰æ¼‚ç§»ï¼Œå¹¶åœ¨ FM+CLIP+KL å¤šç›®æ ‡ä¸‹ä¿æŒæ”¶æ•›ç¨³å®šã€‚â€ï¼ˆé™„ä¸Š CKA ä¸å¯¹é½æŒ‡æ ‡ï¼‰</p></li></ul><blockquote><p>æƒ³ç›´æ¥æ›¿æ¢ä½ ç°åœ¨çš„ metaqueryï¼š<strong>ä¼˜å…ˆè¯• æ–¹æ¡ˆä¸‰ï¼ˆæœ€æ˜“æ¥å…¥ï¼‰</strong>ï¼›è‹¥å·²ä½¿ç”¨ Q-tokenï¼Œ<strong>æ–¹æ¡ˆä¸€</strong>çš„å…±äº«æ¡¥å¾ˆè‡ªç„¶ï¼›éœ€è¦æ›´å¼ºâ€œæ§½ä½å¯äº¤æ¢/é¡ºåºæ— å…³â€å°±ä¸Š <strong>æ–¹æ¡ˆäºŒ</strong>ï¼›è¿½æ±‚å¤§æ¨¡å‹ååä¸è§£è€¦éš”ç¦»ï¼Œå¯è¿­ä»£åˆ° <strong>æ–¹æ¡ˆå››</strong>ã€‚</p></blockquote>`,47)])])}const y=i(h,[["render",k]]);export{d as __pageData,y as default};
